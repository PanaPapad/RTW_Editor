{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Unit Schema for RTW Editor",
  "definitions": {
    "stat_pri": {
      "type": "object",
      "title": "Primary Attack",
      "properties": {
        "attack": {
          "type": "integer",
          "minimum": 1,
          "title": "Attack"
        },
        "charge": {
          "type": "integer",
          "minimum": 0,
          "title": "Charge Bonus"
        },
        "missile_type": {
          "type": "string",
          "default": "no",
          "enum": [
            "no",
            "javelin",
            "arrow",
            "scorpion",
            "ballista",
            "boulder",
            "head",
            "pilum",
            "bullet",
            "stone"
          ]
        },
        "missile_range": {
          "type": "integer",
          "minimum": 0,
          "title": "Missile Range"
        },
        "ammo": {
          "type": "integer",
          "minimum": 0,
          "title": "Ammo"
        },
        "weapon_type": {
          "type": "string",
          "default": "melee",
          "enum": ["melee", "thrown", "missile", "siege_missile"],
          "title": "Weapon Type"
        },
        "tech": {
          "type": "string",
          "default": "simple",
          "enum": ["simple", "other", "blade", "archery", "siege"],
          "title": "Tech"
        },
        "damage_type": {
          "type": "string",
          "default": "piercing",
          "enum": ["piercing", "blunt", "slashing", "fire"]
        },
        "sound_type": {
          "type": "string",
          "default": "none",
          "enum": ["none", "knife", "mace", "axe", "sword", "spear"],
          "title": "Sound Type"
        },
        "attack_delay": {
          "type": "integer",
          "minimum": 1
        }
      },
      "required": [
        "attack",
        "charge",
        "missile_type",
        "missile_range",
        "ammo",
        "weapon_type",
        "tech",
        "damage_type",
        "sound_type",
        "attack_delay"
      ],
      "allOf": [
        {
          "if": {
            "not": {
              "properties": {
                "missile_type": { "const": "no" }
              }
            }
          },
          "then": {
            "properties": {
              "ammo": { "minimum": 1 },
              "missile_range": { "minimum": 1 }
            }
          },
          "else": {
            "properties": {
              "ammo": {
                "readOnly": true,
                "minimum": 0,
                "maximum": 0
              },
              "missile_range": {
                "readOnly": true,
                "minimum": 0,
                "maximum": 0
              }
            }
          }
        }
      ]
    }
  },
  "type": "object",
  "properties": {
    "stat_pri": {
      "$ref": "#/definitions/stat_pri"
    }
  },
  "allOf": [{}],
  "required": []
}
